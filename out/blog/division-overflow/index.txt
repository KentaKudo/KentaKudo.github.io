2:I[185,["845","static/chunks/845-f979c40bbef8bd52.js","822","static/chunks/822-8212f17c2d4138b6.js","308","static/chunks/app/blog/%5Bslug%5D/page-eb52dfc02f8a50f0.js"],"Image"]
3:I[1295,["845","static/chunks/845-f979c40bbef8bd52.js","822","static/chunks/822-8212f17c2d4138b6.js","308","static/chunks/app/blog/%5Bslug%5D/page-eb52dfc02f8a50f0.js"],"ShareButton"]
4:I[8054,[],""]
6:I[618,[],""]
7:I[4290,["518","static/chunks/518-b1c47e14eb8180a8.js","950","static/chunks/950-fe921be4a3228b22.js","185","static/chunks/app/layout-3150410d1e7cdb6e.js"],"Header"]
5:["slug","division-overflow","d"]
0:["HG0r2R0qbzzqrMGL-b2p3",[[["",{"children":["blog",{"children":[["slug","division-overflow","d"],{"children":["__PAGE__?{\"slug\":\"division-overflow\"}",{}]}]}]},"$undefined","$undefined",true],["",{"children":["blog",{"children":[["slug","division-overflow","d"],{"children":["__PAGE__",{},[["$L1",[["$","figure",null,{"className":"flex flex-col gap-1 items-center","children":[["$","$L2",null,{"src":"/images/overflow.jpg","alt":"Spilled coffee","className":"rounded-lg overflow-hidden shadow-md","width":736,"height":490}],["$","figcaption",null,{"dangerouslySetInnerHTML":{"__html":"Photo by <a href=\"https://unsplash.com/@nixcreative?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText\">Tyler Nix</a> on <a href=\"https://unsplash.com/s/photos/spill?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText\">Unsplash</a>"},"className":"text-slate-400 text-sm [&>a]:italic [&>a]:underline"}]]}],["$","div",null,{"className":"flex items-center justify-between mt-8","children":["$","h1",null,{"className":"font-bold text-4xl","children":"Does integer division overflow?"}]}],["$","div",null,{"className":"flex items-center justify-between mt-2 mb-8 gap-4","children":[["$","time",null,{"className":"italic text-slate-400 block","children":"January 25, 2022"}],["$","$L3",null,{"url":"/blog/division-overflow","title":"Does integer division overflow?"}]]}],["$","main",null,{"className":"flex flex-col gap-4 pt-20 pb-24 [&_h2]:text-2xl [&_h3]:text-xl [&_h4]:text-lg [&_:is(h2,h3,h4,h5,h6)]:font-bold [&_:is(h2,h3,h4,h5,h6)]:leading-relaxed [&_:is(h2,h3,h4,h5,h6)]:mt-8 [&_a]:underline [&_a]:underline-offset-2 [&_a]:decoration-slate-300 [&_aside]:text-accent-foreground [&_aside]:bg-accent [&_aside]:rounded-md [&_aside]:p-5 [&_ul]:pl-4 [&_ul]:list-disc [&_ul]:list-outside [&_ul_ul]:pl-8 [&_hr]:w-full [&_hr]:max-w-80 [&_hr]:my-10 [&_hr]:mx-auto","children":[["$","h2",null,{"id":"whats-integer-overflow","children":[["$","a",null,{"aria-hidden":"true","tabIndex":"-1","href":"#whats-integer-overflow","children":["$","span",null,{"className":"icon icon-link"}]}],"What's integer overflow?"]}],"\n",["$","blockquote",null,{"children":["\n",["$","p",null,{"children":["In computer programming, an integer overflow occurs when an arithmetic operation attempts to create a numeric value that is outside of the range that can be represented with a given number of digits – either higher than the maximum or lower than the minimum representable value. — ",["$","a",null,{"href":"https://en.wikipedia.org/wiki/Integer_overflow","children":"Wikipedia — Integer overflow"}]]}],"\n"]}],"\n",["$","p",null,{"children":["As you may know, addition of two integer numbers can overflow. For example addition of two ",["$","code",null,{"children":"int8"}]," number 127 and 1 overflows, and doesn't return mathematically correct answer."]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"hljs language-go","children":[["$","span",null,{"className":"hljs-keyword","children":"package"}]," main\n\n",["$","span",null,{"className":"hljs-keyword","children":"import"}]," ",["$","span",null,{"className":"hljs-string","children":"\"fmt\""}],"\n\n",["$","span",null,{"className":"hljs-function","children":[["$","span",null,{"className":"hljs-keyword","children":"func"}]," ",["$","span",null,{"className":"hljs-title","children":"main"}],["$","span",null,{"className":"hljs-params","children":"()"}]]}]," {\n        ",["$","span",null,{"className":"hljs-keyword","children":"var"}]," i, j ",["$","span",null,{"className":"hljs-type","children":"int8"}]," = ",["$","span",null,{"className":"hljs-number","children":"127"}],", ",["$","span",null,{"className":"hljs-number","children":"1"}],"\n        fmt.Printf(",["$","span",null,{"className":"hljs-string","children":"\"127 + 1 = %d\""}],", i+j)\n}\n"]}]}],"\n",["$","p",null,{"children":["This Go programme outputs ",["$","code",null,{"children":"127 + 1 = -128"}],". For subtraction, if you think about ",["$","code",null,{"children":"127 - (-1)"}],", this is going to overflow as this is the equivalent expression to the addition we just saw."]}],"\n",["$","p",null,{"children":"Likewise, multiplication of two integer numbers can overflow."}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"hljs language-go","children":[["$","span",null,{"className":"hljs-keyword","children":"package"}]," main\n\n",["$","span",null,{"className":"hljs-keyword","children":"import"}]," ",["$","span",null,{"className":"hljs-string","children":"\"fmt\""}],"\n\n",["$","span",null,{"className":"hljs-function","children":[["$","span",null,{"className":"hljs-keyword","children":"func"}]," ",["$","span",null,{"className":"hljs-title","children":"main"}],["$","span",null,{"className":"hljs-params","children":"()"}]]}]," {\n        ",["$","span",null,{"className":"hljs-keyword","children":"var"}]," i, j ",["$","span",null,{"className":"hljs-type","children":"int8"}]," = ",["$","span",null,{"className":"hljs-number","children":"64"}],", ",["$","span",null,{"className":"hljs-number","children":"2"}],"\n        fmt.Printf(",["$","span",null,{"className":"hljs-string","children":"\"64 * 2 = %d\""}],", i*j)\n}\n"]}]}],"\n",["$","p",null,{"children":["This outputs ",["$","code",null,{"children":"64 * 2 = -128"}],"."]}],"\n",["$","p",null,{"children":["The reason is because 127 is the biggest number ",["$","code",null,{"children":"int8"}]," can represent and any calculation resulting in bigger number than this overflows returning unexpected result."]}],"\n",["$","p",null,{"children":"Here is a question: Can division of two integer numbers ever overflow? If yes, which combination of two integers make it happen?"}],"\n",["$","h2",null,{"id":"integer-division-overflow","children":[["$","a",null,{"aria-hidden":"true","tabIndex":"-1","href":"#integer-division-overflow","children":["$","span",null,{"className":"icon icon-link"}]}],"Integer division overflow"]}],"\n",["$","p",null,{"children":["From mathematical point of view, if the divisor is either bigger than or equal to 1, or smaller than or equal to -1, the absolute value of the quotient is never going to be bigger than that of the dividend, and for any ",["$","code",null,{"children":"int8"}]," number this condition is satisfied. So it doesn't seem possible to make overflow happen with two ",["$","code",null,{"children":"int8"}]," numbers."]}],"\n",["$","p",null,{"children":"…However, yes it is possible, as you may have guessed."}],"\n",["$","p",null,{"children":"What do you think is the output of this Go programme?"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"hljs language-go","children":[["$","span",null,{"className":"hljs-keyword","children":"package"}]," main\n\n",["$","span",null,{"className":"hljs-keyword","children":"import"}]," ",["$","span",null,{"className":"hljs-string","children":"\"fmt\""}],"\n\n",["$","span",null,{"className":"hljs-function","children":[["$","span",null,{"className":"hljs-keyword","children":"func"}]," ",["$","span",null,{"className":"hljs-title","children":"main"}],["$","span",null,{"className":"hljs-params","children":"()"}]]}]," {\n        ",["$","span",null,{"className":"hljs-keyword","children":"var"}]," i, j ",["$","span",null,{"className":"hljs-type","children":"int8"}]," = ",["$","span",null,{"className":"hljs-number","children":"-128"}],", ",["$","span",null,{"className":"hljs-number","children":"-1"}],"\n        fmt.Printf(",["$","span",null,{"className":"hljs-string","children":"\"-128 / -1 = %d\""}],", i/j)\n}\n"]}]}],"\n",["$","p",null,{"children":["Mathematically correct answer is ",["$","code",null,{"children":"128"}],"…but wait, ",["$","strong",null,{"children":["wasn't the biggest number ",["$","code",null,{"children":"int8"}]," can represent 127??"]}]]}],"\n",["$","p",null,{"children":["That means this calculation overflows and the output is ",["$","code",null,{"children":"-128 / -1 = -128"}],"."]}],"\n",["$","p",null,{"children":["The reason why this happens is while ",["$","code",null,{"children":"int8"}]," can represent ",["$","code",null,{"children":"2^8 = 256"}]," different numbers, 0 has to be included, which means odd number ",["$","code",null,{"children":"255"}]," is left to represent both positive and negative numbers. Most of the computing systems adopt a technique called ",["$","em",null,{"children":"two's complement"}]," to represent signed numbers",["$","sup",null,{"children":["$","a",null,{"href":"#user-content-fn-1","id":"user-content-fnref-1","data-footnote-ref":true,"aria-describedby":"footnote-label","children":"1"}]}]," and with that technique ",["$","code",null,{"children":"int8"}]," is going to have ",["$","strong",null,{"children":"127 positive numbers and 128 negative numbers"}],"."]}],"\n",["$","p",null,{"children":"As a result by dividing the biggest negative number by -1, we can cause overflow in integer division."}],"\n",["$","p",null,{"children":"I'd like to know more of this kind of \"fun facts\", so please share if you know. In the next post I'd like to talk about what two's complement is, and why it is so widely used in the computing systems."}],"\n",["$","section",null,{"data-footnotes":true,"className":"footnotes","children":[["$","h2",null,{"className":"sr-only","id":"footnote-label","children":[["$","a",null,{"aria-hidden":"true","tabIndex":"-1","href":"#footnote-label","children":["$","span",null,{"className":"icon icon-link"}]}],"Footnotes"]}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"id":"user-content-fn-1","children":["\n",["$","p",null,{"children":["Signed numbers: Numbers that consist of both positive and negative numbers ",["$","a",null,{"href":"#user-content-fnref-1","data-footnote-backref":"","aria-label":"Back to reference 1","className":"data-footnote-backref","children":"↩"}]]}],"\n"]}],"\n"]}],"\n"]}]]}]]],null],null]},["$","$L4",null,{"parallelRouterKey":"children","segmentPath":["children","blog","children","$5","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L6",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/59ab89f451b37a95.css","precedence":"next","crossOrigin":"$undefined"}]]}],null]},[[["$","main",null,{"className":"w-full max-w-screen-md mx-auto py-4 px-4","children":["$","$L4",null,{"parallelRouterKey":"children","segmentPath":["children","blog","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L6",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":null}]}],["$","footer",null,{"className":"pt-4 pb-10 w-full max-w-screen-md mx-auto border-t border-slate-200 flex flex-col items-center gap-4","children":["$","p",null,{"className":"text-sm text-slate-500","children":"© 2024 Kenta Kudo"}]}]],null],null]},[["$","html",null,{"lang":"en","className":"__variable_03f989","children":[["$","head",null,{"children":[["$","script",null,{"async":true,"src":"https://www.googletagmanager.com/gtag/js?id=G-FC2KF4RL0P"}],["$","script",null,{"async":true,"dangerouslySetInnerHTML":{"__html":"\n                window.dataLayer = window.dataLayer || [];\n                function gtag(){dataLayer.push(arguments);}\n                gtag('js', new Date());\n                gtag('config', 'G-FC2KF4RL0P');\n              "}}]]}],["$","body",null,{"children":[["$","$L7",null,{}],["$","$L4",null,{"parallelRouterKey":"children","segmentPath":["children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L6",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":"404"}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],"notFoundStyles":[],"styles":null}]]}]]}],null],null],[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/9bc659649a0d81c7.css","precedence":"next","crossOrigin":"$undefined"}]],[null,"$L8"]]]]]
8:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","meta","1",{"charSet":"utf-8"}],["$","title","2",{"children":"Does integer division overflow? | Kenta Kudo"}],["$","meta","3",{"name":"description","content":"In this short post, I'm going to introduce integer overflow and small fun fact that causes overflow in seemingly impossible situation."}],["$","meta","4",{"property":"og:title","content":"Does integer division overflow? | Kenta Kudo"}],["$","meta","5",{"property":"og:description","content":"In this short post, I'm going to introduce integer overflow and small fun fact that causes overflow in seemingly impossible situation."}],["$","meta","6",{"property":"og:url","content":"https://kentakudo.com/blog/division-overflow/"}],["$","meta","7",{"property":"og:image","content":"https://kentakudo.com/images/overflow.jpg"}],["$","meta","8",{"property":"og:type","content":"article"}],["$","meta","9",{"name":"twitter:card","content":"summary_large_image"}],["$","meta","10",{"name":"twitter:creator","content":"@___________k_k_"}],["$","meta","11",{"name":"twitter:title","content":"Does integer division overflow? | Kenta Kudo"}],["$","meta","12",{"name":"twitter:description","content":"In this short post, I'm going to introduce integer overflow and small fun fact that causes overflow in seemingly impossible situation."}],["$","meta","13",{"name":"twitter:image","content":"https://kentakudo.com/images/overflow.jpg"}],["$","link","14",{"rel":"icon","href":"/favicon.ico","type":"image/x-icon","sizes":"72x72"}],["$","meta","15",{"name":"next-size-adjust"}]]
1:null
