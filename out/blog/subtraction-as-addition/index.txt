2:I[185,["845","static/chunks/845-f979c40bbef8bd52.js","822","static/chunks/822-8212f17c2d4138b6.js","308","static/chunks/app/blog/%5Bslug%5D/page-eb52dfc02f8a50f0.js"],"Image"]
3:I[1295,["845","static/chunks/845-f979c40bbef8bd52.js","822","static/chunks/822-8212f17c2d4138b6.js","308","static/chunks/app/blog/%5Bslug%5D/page-eb52dfc02f8a50f0.js"],"ShareButton"]
4:I[8054,[],""]
6:I[618,[],""]
7:I[4290,["518","static/chunks/518-b1c47e14eb8180a8.js","950","static/chunks/950-c8b75cc466580281.js","185","static/chunks/app/layout-0d47601ce9ccb258.js"],"Header"]
5:["slug","subtraction-as-addition","d"]
0:["6-li7dKpYT6slOvJsbBGN",[[["",{"children":["blog",{"children":[["slug","subtraction-as-addition","d"],{"children":["__PAGE__?{\"slug\":\"subtraction-as-addition\"}",{}]}]}]},"$undefined","$undefined",true],["",{"children":["blog",{"children":[["slug","subtraction-as-addition","d"],{"children":["__PAGE__",{},[["$L1",[["$","figure",null,{"className":"flex flex-col gap-1 items-center","children":[["$","$L2",null,{"src":"/images/complementary.jpg","alt":"An orange coloured in blue outside (complementary colours)","className":"rounded-lg overflow-hidden shadow-md","width":736,"height":490}],["$","figcaption",null,{"dangerouslySetInnerHTML":{"__html":"Photo by <a href=\"https://unsplash.com/@davisuko?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText\">davisuko</a> on <a href=\"https://unsplash.com/s/photos/complementary-colors?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText\">Unsplash</a>"},"className":"text-slate-400 text-sm [&>a]:italic [&>a]:underline"}]]}],["$","div",null,{"className":"flex items-center justify-between mt-8","children":[["$","h1",null,{"className":"font-bold text-4xl","children":"Subtraction as Addition"}],["$","$L3",null,{"url":"/blog/subtraction-as-addition","title":"Subtraction as Addition"}]]}],["$","time",null,{"className":"italic text-slate-400 block mt-2 mb-8","children":"January 30, 2022"}],["$","main",null,{"className":"flex flex-col gap-4 pt-20 pb-24 [&_h2]:text-2xl [&_h3]:text-xl [&_h4]:text-lg [&_:is(h2,h3,h4,h5,h6)]:font-bold [&_:is(h2,h3,h4,h5,h6)]:leading-relaxed [&_:is(h2,h3,h4,h5,h6)]:mt-8 [&_a]:underline [&_a]:underline-offset-2 [&_a]:decoration-slate-300 [&_aside]:text-accent-foreground [&_aside]:bg-accent [&_aside]:rounded-md [&_aside]:p-5 [&_ul]:pl-4 [&_ul]:list-disc [&_ul]:list-outside [&_ul_ul]:pl-8 [&_hr]:w-full [&_hr]:max-w-80 [&_hr]:my-10 [&_hr]:mx-auto","children":[["$","p",null,{"children":["To make the discussion simple I'm going to use 4 bit integer, ",["$","code",null,{"children":"int4"}]," throughout the post."]}],"\n",["$","p",null,{"children":["NOTE: I expect you to have a basic understanding of binary number system. If you're not familiar with it, take a moment and have a look at ",["$","a",null,{"href":"https://www.mathsisfun.com/binary-number-system.html","children":"this article"}]," first."]}],"\n",["$","h2",null,{"id":"whats-twos-complement","children":[["$","a",null,{"aria-hidden":"true","tabIndex":"-1","href":"#whats-twos-complement","children":["$","span",null,{"className":"icon icon-link"}]}],"What's two's complement?"]}],"\n",["$","p",null,{"children":["It's one way of representing signed integers",["$","sup",null,{"children":["$","a",null,{"href":"#user-content-fn-1","id":"user-content-fnref-1","data-footnote-ref":true,"aria-describedby":"footnote-label","children":"1"}]}],". ",["$","code",null,{"children":"int4"}]," can represent ",["$","code",null,{"children":"2^4 = 16"}]," different numbers, and two's complement assigns 16 integers ranging from -8 to 7 to each bit pattern. The mapping rules go like this:"]}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["Map from 0 to 7 to binary numbers starting from ",["$","code",null,{"children":"0000"}]," to ",["$","code",null,{"children":"0111"}],". This is same as how we represent positive integers in binary."]}],"\n",["$","li",null,{"children":["For negative numbers, assign the smallest negative number -8 to ",["$","code",null,{"children":"1000"}],", then assign -7 to the one bigger binary ",["$","code",null,{"children":"1001"}],", -6 to ",["$","code",null,{"children":"1010"}]," …and so on up to ",["$","code",null,{"children":"1111"}],". ",["$","code",null,{"children":"1111"}]," is going to be -1."]}],"\n"]}],"\n",["$","p",null,{"children":"If they aren't very clear, have a look at the table showing full mapping below and examine the rules again."}],"\n",["$","table",null,{"children":[["$","thead",null,{"children":["$","tr",null,{"children":[["$","th",null,{"style":{"textAlign":"center"},"children":"Decimal"}],["$","th",null,{"style":{"textAlign":"center"},"children":"Binary"}]]}]}],["$","tbody",null,{"children":[["$","tr",null,{"children":[["$","td",null,{"style":{"textAlign":"center"},"children":"7"}],["$","td",null,{"style":{"textAlign":"center"},"children":"0111"}]]}],["$","tr",null,{"children":[["$","td",null,{"style":{"textAlign":"center"},"children":"6"}],["$","td",null,{"style":{"textAlign":"center"},"children":"0110"}]]}],["$","tr",null,{"children":[["$","td",null,{"style":{"textAlign":"center"},"children":"5"}],["$","td",null,{"style":{"textAlign":"center"},"children":"0101"}]]}],["$","tr",null,{"children":[["$","td",null,{"style":{"textAlign":"center"},"children":"4"}],["$","td",null,{"style":{"textAlign":"center"},"children":"0100"}]]}],["$","tr",null,{"children":[["$","td",null,{"style":{"textAlign":"center"},"children":"3"}],["$","td",null,{"style":{"textAlign":"center"},"children":"0011"}]]}],["$","tr",null,{"children":[["$","td",null,{"style":{"textAlign":"center"},"children":"2"}],["$","td",null,{"style":{"textAlign":"center"},"children":"0010"}]]}],["$","tr",null,{"children":[["$","td",null,{"style":{"textAlign":"center"},"children":"1"}],["$","td",null,{"style":{"textAlign":"center"},"children":"0001"}]]}],["$","tr",null,{"children":[["$","td",null,{"style":{"textAlign":"center"},"children":"0"}],["$","td",null,{"style":{"textAlign":"center"},"children":"0000"}]]}],["$","tr",null,{"children":[["$","td",null,{"style":{"textAlign":"center"},"children":"-1"}],["$","td",null,{"style":{"textAlign":"center"},"children":"1111"}]]}],["$","tr",null,{"children":[["$","td",null,{"style":{"textAlign":"center"},"children":"-2"}],["$","td",null,{"style":{"textAlign":"center"},"children":"1110"}]]}],["$","tr",null,{"children":[["$","td",null,{"style":{"textAlign":"center"},"children":"-3"}],["$","td",null,{"style":{"textAlign":"center"},"children":"1101"}]]}],["$","tr",null,{"children":[["$","td",null,{"style":{"textAlign":"center"},"children":"-4"}],["$","td",null,{"style":{"textAlign":"center"},"children":"1100"}]]}],["$","tr",null,{"children":[["$","td",null,{"style":{"textAlign":"center"},"children":"-5"}],["$","td",null,{"style":{"textAlign":"center"},"children":"1011"}]]}],["$","tr",null,{"children":[["$","td",null,{"style":{"textAlign":"center"},"children":"-6"}],["$","td",null,{"style":{"textAlign":"center"},"children":"1010"}]]}],["$","tr",null,{"children":[["$","td",null,{"style":{"textAlign":"center"},"children":"-7"}],["$","td",null,{"style":{"textAlign":"center"},"children":"1001"}]]}],["$","tr",null,{"children":[["$","td",null,{"style":{"textAlign":"center"},"children":"-8"}],["$","td",null,{"style":{"textAlign":"center"},"children":"1000"}]]}]]}]]}],"\n",["$","p",null,{"children":"Just by looking at it, it doesn't make much sense why it does such a tricky mapping for negative numbers. There's a reason powerful enough to justify this trickiness."}],"\n",["$","h2",null,{"id":"why-is-it-so-widely-used","children":[["$","a",null,{"aria-hidden":"true","tabIndex":"-1","href":"#why-is-it-so-widely-used","children":["$","span",null,{"className":"icon icon-link"}]}],"Why is it so widely used?"]}],"\n",["$","p",null,{"children":["The reason why two's complement is widely used is it makes hardware simple in a way that ",["$","strong",null,{"children":"it enables hardware to use the addition unit to also calculate subtraction"}],"."]}],"\n",["$","p",null,{"children":["You may be surprised to know that computers don't do subtraction. What it actually does instead is addition of the negative number. For example, ",["$","code",null,{"children":"5 - 3"}]," is calculated as ",["$","code",null,{"children":"5 + (-3)"}]," inside a computer. By converting subtraction to addition, it's now free from minding how to go about subtraction, which is a big deal from hardware engineering point of view."]}],"\n",["$","p",null,{"children":["However, we need to carefully pick a way to represent negative numbers in order to get correct answers. Two's complement is one of such representations",["$","sup",null,{"children":["$","a",null,{"href":"#user-content-fn-2","id":"user-content-fnref-2","data-footnote-ref":true,"aria-describedby":"footnote-label","children":"2"}]}]," that makes it happen. Let's look at an example."]}],"\n",["$","p",null,{"children":["Let's do ",["$","code",null,{"children":"5 + (-3)"}],". In two's complement 5 and -3 are represented as ",["$","code",null,{"children":"0101"}]," and ",["$","code",null,{"children":"1101"}]," respectively. The addition of these two is ",["$","code",null,{"children":"0101 + 1101 = 0010"}],". If you look back at the table in the previous section, you can find it represents 2, which ",["$","strong",null,{"children":["corresponds to the answer of ",["$","code",null,{"children":"5 + (-3)"}]]}],"."]}],"\n",["$","p",null,{"children":"You may still wonder \"so what? what's so special about this?\" because my first impression was like that. Let's see what happens if it did NOT use two's complement."}],"\n",["$","h3",null,{"id":"another-way-of-representing-minus-numbers","children":[["$","a",null,{"aria-hidden":"true","tabIndex":"-1","href":"#another-way-of-representing-minus-numbers","children":["$","span",null,{"className":"icon icon-link"}]}],"Another way of representing minus numbers"]}],"\n",["$","p",null,{"children":["I'm going to use the first bit solely as a flag that indicates sign: 0 to be positive, and 1 to be negative. The rest of three bits are used to represent number part, for example, ",["$","code",null,{"children":"0001"}]," is 1 and ",["$","code",null,{"children":"1001"}]," is -1."]}],"\n",["$","p",null,{"children":"This is the mapping table of this system."}],"\n",["$","table",null,{"children":[["$","thead",null,{"children":["$","tr",null,{"children":[["$","th",null,{"style":{"textAlign":"center"},"children":"Decimal"}],["$","th",null,{"style":{"textAlign":"center"},"children":"Binary"}]]}]}],["$","tbody",null,{"children":[["$","tr",null,{"children":[["$","td",null,{"style":{"textAlign":"center"},"children":"7"}],["$","td",null,{"style":{"textAlign":"center"},"children":"0111"}]]}],["$","tr",null,{"children":[["$","td",null,{"style":{"textAlign":"center"},"children":"6"}],["$","td",null,{"style":{"textAlign":"center"},"children":"0110"}]]}],["$","tr",null,{"children":[["$","td",null,{"style":{"textAlign":"center"},"children":"5"}],["$","td",null,{"style":{"textAlign":"center"},"children":"0101"}]]}],["$","tr",null,{"children":[["$","td",null,{"style":{"textAlign":"center"},"children":"4"}],["$","td",null,{"style":{"textAlign":"center"},"children":"0100"}]]}],["$","tr",null,{"children":[["$","td",null,{"style":{"textAlign":"center"},"children":"3"}],["$","td",null,{"style":{"textAlign":"center"},"children":"0011"}]]}],["$","tr",null,{"children":[["$","td",null,{"style":{"textAlign":"center"},"children":"2"}],["$","td",null,{"style":{"textAlign":"center"},"children":"0010"}]]}],["$","tr",null,{"children":[["$","td",null,{"style":{"textAlign":"center"},"children":"1"}],["$","td",null,{"style":{"textAlign":"center"},"children":"0001"}]]}],["$","tr",null,{"children":[["$","td",null,{"style":{"textAlign":"center"},"children":"0"}],["$","td",null,{"style":{"textAlign":"center"},"children":"0000"}]]}],["$","tr",null,{"children":[["$","td",null,{"style":{"textAlign":"center"},"children":"-0"}],["$","td",null,{"style":{"textAlign":"center"},"children":"1000"}]]}],["$","tr",null,{"children":[["$","td",null,{"style":{"textAlign":"center"},"children":"-1"}],["$","td",null,{"style":{"textAlign":"center"},"children":"1001"}]]}],["$","tr",null,{"children":[["$","td",null,{"style":{"textAlign":"center"},"children":"-2"}],["$","td",null,{"style":{"textAlign":"center"},"children":"1010"}]]}],["$","tr",null,{"children":[["$","td",null,{"style":{"textAlign":"center"},"children":"-3"}],["$","td",null,{"style":{"textAlign":"center"},"children":"1011"}]]}],["$","tr",null,{"children":[["$","td",null,{"style":{"textAlign":"center"},"children":"-4"}],["$","td",null,{"style":{"textAlign":"center"},"children":"1100"}]]}],["$","tr",null,{"children":[["$","td",null,{"style":{"textAlign":"center"},"children":"-5"}],["$","td",null,{"style":{"textAlign":"center"},"children":"1101"}]]}],["$","tr",null,{"children":[["$","td",null,{"style":{"textAlign":"center"},"children":"-6"}],["$","td",null,{"style":{"textAlign":"center"},"children":"1110"}]]}],["$","tr",null,{"children":[["$","td",null,{"style":{"textAlign":"center"},"children":"-7"}],["$","td",null,{"style":{"textAlign":"center"},"children":"1111"}]]}]]}]]}],"\n",["$","p",null,{"children":["Probably this is more intuitive way of representing negative numbers. This system is called ",["$","em",null,{"children":"signed magnitude representation"}],", and was actually used in early computers. Be aware ",["$","strong",null,{"children":"it has two zeros"}],"."]}],"\n",["$","p",null,{"children":["Now let's see how ",["$","code",null,{"children":"5 + (-3)"}]," looks like in this system."]}],"\n",["$","p",null,{"children":["In this system, 5 and -3 are represented ",["$","code",null,{"children":"0101"}]," and ",["$","code",null,{"children":"1011"}]," respectively. If we add these two binary numbers, the result is ",["$","code",null,{"children":"0101 + 1011 = 0000"}],". ",["$","code",null,{"children":"0000"}]," is simply 0, which is clearly wrong answer for ",["$","code",null,{"children":"5 + (-3)"}],"."]}],"\n",["$","p",null,{"children":"This means it can't use the addition hardware to perform this calculation, and to get the right answer it needs another hardware dedicated for subtraction."}],"\n",["$","p",null,{"children":"Being able to calculate subtraction as addition is a very unique characteristic two's complement has, and it's the reason why it's so popular in computing systems."}],"\n",["$","aside",null,{"children":["$","p",null,{"children":["Indeed, ",["$","i",null,{"children":"method of complement"}]," (ones' complement, two's complement, etc)\nis ",["$","b",null,{"children":"designed to implement subtraction as addition"}]," of its complement\nnumber."]}]}],"\n",["$","section",null,{"data-footnotes":true,"className":"footnotes","children":[["$","h2",null,{"className":"sr-only","id":"footnote-label","children":[["$","a",null,{"aria-hidden":"true","tabIndex":"-1","href":"#footnote-label","children":["$","span",null,{"className":"icon icon-link"}]}],"Footnotes"]}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"id":"user-content-fn-1","children":["\n",["$","p",null,{"children":["Signed numbers: Numbers that consist of both positive and negative numbers ",["$","a",null,{"href":"#user-content-fnref-1","data-footnote-backref":"","aria-label":"Back to reference 1","className":"data-footnote-backref","children":"↩"}]]}],"\n"]}],"\n",["$","li",null,{"id":"user-content-fn-2","children":["\n",["$","p",null,{"children":["Ones' complement is another way to realise subtraction as addition. See ",["$","a",null,{"href":"https://stackoverflow.com/questions/11054213/advantage-of-2s-complement-over-1s-complement","children":"Stack Overflow — Advantage of 2's complement over 1's complement?"}]," if you're interested in why two's complement is more preferred. ",["$","a",null,{"href":"#user-content-fnref-2","data-footnote-backref":"","aria-label":"Back to reference 2","className":"data-footnote-backref","children":"↩"}]]}],"\n"]}],"\n"]}],"\n"]}]]}]]],null],null]},["$","$L4",null,{"parallelRouterKey":"children","segmentPath":["children","blog","children","$5","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L6",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/59ab89f451b37a95.css","precedence":"next","crossOrigin":"$undefined"}]]}],null]},[[["$","main",null,{"className":"w-full max-w-screen-md mx-auto py-4 px-4","children":["$","$L4",null,{"parallelRouterKey":"children","segmentPath":["children","blog","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L6",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":null}]}],["$","footer",null,{"className":"pt-4 pb-10 w-full max-w-screen-md mx-auto border-t border-slate-200 flex flex-col items-center gap-4","children":["$","p",null,{"className":"text-sm text-slate-500","children":"© 2024 Kenta Kudo"}]}]],null],null]},[["$","html",null,{"lang":"en","className":"__variable_03f989","children":[["$","head",null,{"children":[["$","script",null,{"async":true,"src":"https://www.googletagmanager.com/gtag/js?id=G-FC2KF4RL0P"}],["$","script",null,{"async":true,"dangerouslySetInnerHTML":{"__html":"\n                window.dataLayer = window.dataLayer || [];\n                function gtag(){dataLayer.push(arguments);}\n                gtag('js', new Date());\n                gtag('config', 'G-FC2KF4RL0P');\n              "}}]]}],["$","body",null,{"children":[["$","$L7",null,{}],["$","$L4",null,{"parallelRouterKey":"children","segmentPath":["children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L6",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":"404"}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],"notFoundStyles":[],"styles":null}]]}]]}],null],null],[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/22cb25cdefef55b6.css","precedence":"next","crossOrigin":"$undefined"}]],[null,"$L8"]]]]]
8:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","meta","1",{"charSet":"utf-8"}],["$","title","2",{"children":"Subtraction as Addition | Kenta Kudo"}],["$","meta","3",{"name":"description","content":"In modern computing system, a technique called two's complement is used to represent negative integers. The reason it's so commonly used is it makes computing system much simpler. In this post, I'd like to show what two's complement is and how it helps keeping it simple."}],["$","meta","4",{"property":"og:title","content":"Subtraction as Addition | Kenta Kudo"}],["$","meta","5",{"property":"og:description","content":"In modern computing system, a technique called two's complement is used to represent negative integers. The reason it's so commonly used is it makes computing system much simpler. In this post, I'd like to show what two's complement is and how it helps keeping it simple."}],["$","meta","6",{"property":"og:url","content":"https://kentakudo.com/blog/subtraction-as-addition/"}],["$","meta","7",{"property":"og:image","content":"https://kentakudo.com/images/complementary.jpg"}],["$","meta","8",{"property":"og:type","content":"article"}],["$","meta","9",{"name":"twitter:card","content":"summary_large_image"}],["$","meta","10",{"name":"twitter:creator","content":"@___________k_k_"}],["$","meta","11",{"name":"twitter:title","content":"Subtraction as Addition | Kenta Kudo"}],["$","meta","12",{"name":"twitter:description","content":"In modern computing system, a technique called two's complement is used to represent negative integers. The reason it's so commonly used is it makes computing system much simpler. In this post, I'd like to show what two's complement is and how it helps keeping it simple."}],["$","meta","13",{"name":"twitter:image","content":"https://kentakudo.com/images/complementary.jpg"}],["$","link","14",{"rel":"icon","href":"/favicon.ico","type":"image/x-icon","sizes":"72x72"}],["$","meta","15",{"name":"next-size-adjust"}]]
1:null
